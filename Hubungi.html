<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Berita SMKN Situraja</title>
    <link rel="stylesheet" href="HubungiCSS.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="https://ulangan.smknsituraja.sch.id/images/favicon.png" alt="Logo SMKN Situraja">
            <p style="text-align: center; font-size: 40px; padding-bottom: 20px;">Berita SMKN Situraja</p>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Beranda</a></li>
                <li><a href="BeritaUtama.html">Berita</a></li>
                <li class="dropdown">
                    <a href="javascript:void(0)" class="dropbtn">Kelas</a>
                    <div class="dropdown-content">
                        <a href="BeritaX.html">X</a>
                        <a href="BeritaXI.html">XI</a>
                        <a href="BeritaXII.html">XII</a>
                <li><a href="Galeri.html">Galeri</a></li>
                <li><a href="https://beritasukatali.vercel.app/Profile.html">Tentang Kami</a></li>
                <li><a href="Hubungi.html">Hubungi Kami</a></li>
            </div>
            </ul>
        </nav>
    </header>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script defer>
      async function sendEmail(event) {
        event.preventDefault(); // Mencegah reload halaman
  
        // Mengambil data dari form
        const to = "lesram980@gmail.com";
        const subject = document.getElementById('emailSubject').value;
        const text = document.getElementById('emailText').value;
  
        try {
          // Mengirim request POST ke API
          const response = await fetch('https://email-lyart-zeta.vercel.app/send-email', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              to: to,
              subject: subject,
              text: text,
            }),
          });
  
          // Memeriksa apakah email terkirim dengan sukses
          const result = await response.json();
          if (response.ok) {
            alert('Email Berhasil Dikirim! Terima Kasih Atas Pesannya!');
          } else {
            alert(`Gagal mengirim email: ${result.message}`);
          }
        } catch (error) {
          console.error('Error:', error);
          alert('Terjadi kesalahan saat mengirim email.');
        }
      }
    </script>
  </head>
  <body>
    <div class="container mt-5">
      <form id="emailform" onsubmit="sendEmail(event)">
        <div class="form-group">
          <label for="emailSubject">Subjek Email</label>
          <input type="text" class="form-control" id="emailSubject" placeholder="Masukkan subjek" required>
        </div>
        <div class="form-group">
          <label for="emailText">Isi Pesan</label>
          <textarea class="form-control" id="emailText" rows="5" placeholder="Tulis pesan anda di sini" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary btn-block">Kirim Email</button>
      </form>
    </div>
  
    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <p></p>
    <footer>
        <p>Alamat: SMKN Situraja, Kabupaten Sumedang, Jawa Barat</p>
        <p>Email: info@smknsituraja.sch.id | Telepon: (022) 1234567</p>
        <div class="social-media">
            <a href="#">Facebook</a>
            <a href="#">Instagram</a>
            <a href="#">Twitter</a>
        </div>
    </footer>
</body>
</html>
